<!DOCTYPE html>
<html lang="en-GB" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NPIWC Admin Portal</title>
  <link rel="icon" type="image/x-icon" href="pics/logo.JPG">
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
  <!-- Font Awesome -->
  <script src="https://kit.fontawesome.com/aca9f57730.js" crossorigin="anonymous"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Add DataTables -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#395886',
            secondary: '#317a86',
            accent: '#72b5c1',
            dark: {
              100: '#1e293b',
              200: '#334155',
              300: '#475569'
            }
          }
        }
      }
    };
  </script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

    body {
      font-family: 'Inter', sans-serif;
    }

    .glass-effect {
      backdrop-filter: blur(16px) saturate(180%);
      background-color: rgba(255, 255, 255, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.125);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    }

    .dark .glass-effect {
      background-color: rgba(30, 41, 59, 0.7);
      border-color: rgba(255, 255, 255, 0.05);
    }

    .login-bg {
      background: linear-gradient(135deg, #395886 0%, #317a86 100%);
      animation: gradientShift 15s ease infinite;
      background-size: 400% 400%;
    }

    .dark .login-bg {
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50% }
      50% { background-position: 100% 50% }
      100% { background-position: 0% 50% }
    }

    .floating {
      animation: floating 3s ease-in-out infinite;
    }

    @keyframes floating {
      0% { transform: translateY(0px) }
      50% { transform: translateY(-10px) }
      100% { transform: translateY(0px) }
    }

    .chart-container {
      position: relative;
      margin: auto;
      height: 300px;
    }

    /* Custom DataTables styling */
    .dataTables_wrapper {
      padding: 1rem;
      border-radius: 0.5rem;
    }

    .dark .dataTables_wrapper {
      color: #e2e8f0;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #94a3b8;
      border-radius: 4px;
    }

    .dark ::-webkit-scrollbar-thumb {
      background: #475569;
    }
  </style>
</head>

<body class="bg-gray-50 dark:bg-dark-100 min-h-screen transition-colors duration-200">
  <!-- Login Section -->
  <div id="loginSection" class="login-bg min-h-screen flex items-center justify-center p-4">
    <div class="glass-effect w-full max-w-md p-8 rounded-2xl relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-br from-transparent to-white/5 pointer-events-none"></div>
      <div class="relative">
        <div class="text-center mb-8">
          <img src="pics/logo.JPG" alt="Church Logo" class="h-24 w-24 rounded-full mx-auto mb-4 shadow-lg floating">
          <h1 class="text-3xl font-bold text-white mb-2">Welcome Back</h1>
          <p class="text-gray-200 opacity-80">Access your admin dashboard</p>
        </div>
        
        <form id="loginForm" class="space-y-6">
          <div class="space-y-4">
            <div class="relative">
              <label class="block text-sm font-medium text-white opacity-90 mb-2">Username</label>
              <div class="relative">
                <i class="fas fa-user absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="text" required
                       class="w-full pl-12 pr-4 py-3 rounded-xl bg-white/10 text-white placeholder-gray-400 border border-white/10 focus:border-accent focus:ring-2 focus:ring-accent/50 transition-all duration-300">
              </div>
            </div>
            
            <div class="relative">
              <label class="block text-sm font-medium text-white opacity-90 mb-2">Password</label>
              <div class="relative">
                <i class="fas fa-lock absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="password" required
                       class="w-full pl-12 pr-4 py-3 rounded-xl bg-white/10 text-white placeholder-gray-400 border border-white/10 focus:border-accent focus:ring-2 focus:ring-accent/50 transition-all duration-300">
              </div>
            </div>
          </div>

          <button type="submit" 
                  class="w-full bg-accent hover:bg-accent/90 text-white font-medium py-3 rounded-xl transition-all duration-300 transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent group relative overflow-hidden">
            <span class="relative z-10">Sign In</span>
            <div class="absolute inset-0 bg-gradient-to-r from-primary to-secondary opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Dashboard Section (Hidden by default) -->
  <div id="dashboardSection" class="hidden">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white dark:bg-dark-200 shadow-lg z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex items-center">
            <img src="pics/logo.JPG" alt="Logo" class="h-8 w-8 rounded-full">
            <span class="ml-3 text-lg font-semibold text-gray-900 dark:text-white">NPIWC Admin</span>
          </div>
          
          <div class="flex items-center space-x-4">
            <button id="themeToggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-300 transition-colors">
              <i class="fas fa-moon text-gray-600 dark:text-gray-300"></i>
            </button>
            <button id="logoutBtn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-accent transition-colors">
              <i class="fas fa-sign-out-alt"></i>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20 pb-8 px-4 sm:px-6 lg:px-8">
      <div class="max-w-7xl mx-auto space-y-8">
        <!-- Stats Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <!-- Stat Cards -->
          <div class="bg-white dark:bg-dark-200 rounded-xl shadow-lg p-6">
            <div class="flex items-center justify-between">
              <h3 class="text-gray-500 dark:text-gray-400 text-sm font-medium">Total Members</h3>
              <i class="fas fa-users text-primary dark:text-accent"></i>
            </div>
            <p class="text-2xl font-semibold text-gray-900 dark:text-white mt-2">2,547</p>
            <p class="text-green-600 text-sm mt-2">
              <i class="fas fa-arrow-up"></i>
              <span class="ml-1">12% increase</span>
            </p>
          </div>
          
          <!-- Add more stat cards... -->
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div class="bg-white dark:bg-dark-200 rounded-xl shadow-lg p-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Attendance Trends</h3>
            <div class="chart-container">
              <canvas id="attendanceChart"></canvas>
            </div>
          </div>
          
          <div class="bg-white dark:bg-dark-200 rounded-xl shadow-lg p-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Giving Analysis</h3>
            <div class="chart-container">
              <canvas id="givingChart"></canvas>
            </div>
          </div>
        </div>

        <!-- Members Table -->
        <div class="bg-white dark:bg-dark-200 rounded-xl shadow-lg overflow-hidden">
          <div class="p-6 border-b border-gray-200 dark:border-dark-300">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Recent Members</h3>
          </div>
          <div class="overflow-x-auto">
            <table id="membersTable" class="w-full">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Join Date</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Table data will be populated by DataTables -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Theme Toggle
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      const icon = themeToggle.querySelector('i');
      icon.classList.toggle('fa-moon');
      icon.classList.toggle('fa-sun');
    });

    // Login Handler
    document.getElementById('loginForm').addEventListener('submit', (e) => {
      e.preventDefault();
      window.location.href = 'admin-dashboard.html'; // Redirect to admin-dashboard.html
    });

    // Logout Handler
    document.getElementById('logoutBtn').addEventListener('click', () => {
      document.getElementById('dashboardSection').classList.add('hidden');
      document.getElementById('loginSection').classList.remove('hidden');
    });

    // Initialize Dashboard
    function initializeDashboard() {
      // Initialize Charts
      const attendanceChart = new Chart(document.getElementById('attendanceChart'), {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
          datasets: [{
            label: 'Sunday Service',
            data: [450, 475, 512, 528, 547, 589],
            borderColor: '#395886',
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false
        }
      });

      const givingChart = new Chart(document.getElementById('givingChart'), {
        type: 'bar',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
          datasets: [{
            label: 'Monthly Giving',
            data: [12500, 13200, 14800, 14100, 15300, 16200],
            backgroundColor: '#317a86'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false
        }
      });

      // Initialize DataTable
      $('#membersTable').DataTable({
        data: [
          ['John Doe', 'john@example.com', '2024-01-15', 'Active', '<button class="text-primary dark:text-accent">Edit</button>'],
          ['Jane Smith', 'jane@example.com', '2024-02-01', 'Active', '<button class="text-primary dark:text-accent">Edit</button>'],
          // Add more rows as needed
        ],
        pageLength: 5,
        lengthMenu: [[5, 10, 25, 50], [5, 10, 25, 50]]
      });
    }
  </script>
</body>
</html>
